import XMonad
import XMonad.Config.Gnome
import XMonad.Layout.Spacing 
import XMonad.Hooks.DynamicLog
import XMonad.Hooks.ManageDocks
import XMonad.Util.Run(spawnPipe)
import XMonad.Util.EZConfig(additionalKeys)
import System.IO

-- Define amount and names of workspaces
myWorkspaces = ["1:workstation","2:browsing","3:chat","4:music","5:projector","6:","7:","8:web", "9:"]

myLayout = tiled ||| Mirror tiled ||| Full 
	where 
	-- default tiling algorithm partitions the screen into two panes 
	tiled = spacing 5 $ Tall nmaster delta ratio 

	-- The default number of windows in the master pane 
	nmaster = 1 

	-- Default proportion of screen occupied by master pane 
	ratio = 2/3 

	-- Percent of screen to increment by when resizing panes 
	delta = 5/100


main = do
	xmproc <- spawnPipe "xmobar"

	xmonad $ defaultConfig
		{ 
			manageHook = manageDocks <+> manageHook defaultConfig, 
			layoutHook = avoidStruts  $  layoutHook defaultConfig,
			modMask = mod4Mask,
			--borderWidth = 2,
			normalBorderColor = "#60A1AD" ,
			focusedBorderColor = "#68e862",
--			layoutHook = myLayout,
			workspaces = myWorkspaces,
			logHook = dynamicLogWithPP xmobarPP
                        	{ 
					ppOutput = hPutStrLn xmproc
                        		, ppTitle = xmobarColor "green" "" . shorten 50
                        	}

		} `additionalKeys`
		[ ((mod4Mask .|. shiftMask, xK_z), spawn "xscreensaver-command -lock; xset dpms force off")
			, ((controlMask, xK_Print), spawn "sleep 0.2; scrot -s")
			, ((0, xK_Print), spawn "scrot")
		]
